# nonebot_plugin_wft

基于 nonebot2 和 onebot11 协议的狼人杀插件

此插件仍然处于重构状态

## 架构

### `__init__.py`

和机器人交互与用户通信相关的内容

所有和游戏流程相关的指令都应该触发一个对应的事件

### 事件

事件系统按 房间 进行独立处理

每个事件都会在被触发时执行相应的监听器

事件 应该是一个 对象

每个 房间 都有一个 事件系统

事件系统 内部有若干个 事件 成员

事件 具有 触发事件，添加监听器，删除监听器 函数

监听器 是 一个接受 房间 对象的函数

### 玩家

每个 房间 都应该有一个 玩家列表 用来保存 玩家对象

玩家列表 按 发言顺序 排序，每个玩家的发言顺序 被称作 玩家编号

房间 具有一个字典 存储 玩家 QQ 号 -> 玩家编号

玩家 具有一个 角色

### 角色

角色 在 游戏开始 时执行 分配角色 操作时被 创建 并赋值给 每个玩家

角色 在 被创建时 接受 房间 参数 并向 事件系统 注册一系列 监听器

每个 角色 类型 都应保存在 characters/ 文件夹下的不同文件中，并通过 动态加载 载入
